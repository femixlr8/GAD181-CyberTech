using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class BounceBack : MonoBehaviour
{
    public float bouncForce = 10f;

    private Rigidbody2D rbEnemy;
    void Start()
    {
        rbEnemy = GetComponent<Rigidbody2D>();

        if (rbEnemy == null )
        {
            Debug.LogError("not found");
        }
    }

    private void OnCollisionEnter2D(Collision2D collision)
    {
        if (collision.gameObject.tag == ("MalwareEnemy"))
        {

            //TEST: since the player oly bounces from above the cube ,i made it that its only on collison normal
            Vector2 bounceDirection = collision.contacts[0].normal;
            bounceDirection.Normalize();

            // force mode impulse is an enum that changes the velocity of the rigidbody
            rbEnemy.AddForce(bounceDirection * bouncForce, ForceMode2D.Impulse);

            Debug.Log("Collision detected with ");
            Debug.Log("Bounce direction: " + bounceDirection);
            Debug.Log("Bounce force applied: " + bounceDirection * bouncForce);
        }
    }
}
